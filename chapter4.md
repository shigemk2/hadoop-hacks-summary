# 4 Hive Hacks

- Hive Hadoopのビッグデータ活用を容易にするツール
    - MapReduceのコードを組み上げても良いが欠点がある
        - 初期のアドホック分析の手間
        - 人的リソースと教育コスト
            - MapReduceジョブが難しい
− そのためのHiveQL(SQLに似た命令文)

- 現場のノウハウ
- システムとの連携
- パフォーマンスの高いHiveQL

## 34 SQLとHiveQLの違い

RDBMSのSQL文をSQLライクなHiveQL文に変換するさいのポイント

- メリット MapReduceを意識することなくSQLライクに記述する
- デメリット MapReduceを意識せずに記述することで性能が著しく落ちてしまう

### ポイント

- データの更新ができない
    - 一部更新はできない
- MapReduceタスクのオーバーヘッドがつきまとう
    - 高スループットを目指す処理に向いているが低レイテンシー処理には向いていない
- 並列分散のできない処理はHive向きでない
    - レコード全体をソートする処理
- FROM句に書けるテーブルの数は1つ
- サブクエリを持つINメソッド句は使えない
- 動的クエリ(${env:変数名})みたいな文字列で動的なクエリが使える
- 逆結合(anti join)に対応していない
- 集計時における重複レコードが許されない
- select句に存在しないカラムでのソートはできない
- NULLとカラ文字列は区別される
- rownumの取得はできない
